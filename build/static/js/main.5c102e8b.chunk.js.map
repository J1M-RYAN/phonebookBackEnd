{"version":3,"sources":["Components/Title.js","Components/Individual.js","services/persons.js","Components/Numbers.js","Notify.js","App.js","index.js"],"names":["Title","props","text","Individual","id","name","number","key","baseUrl","axios","get","newObject","post","put","window","confirm","console","log","delete","Numbers","useState","update","setUpdate","persons","filterWord","personsService","then","response","data","deletePerson","i","filter","a","map","person","result","onClick","newObj","length","includes","concat","Notify","message","charAt","className","App","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","setTimeout","useEffect","value","onChange","event","target","type","preventDefault","p","newP","find","x","undefined","catch","error","newPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5c102e8b.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Title = props => {\r\n  const text = props.text;\r\n  return <h1>{text}</h1>;\r\n};\r\nexport default Title;\r\n","import React from \"react\";\r\n\r\nconst Individual = props => {\r\n  const id = props.id;\r\n  const name = props.name;\r\n  const number = props.number;\r\n\r\n  return (\r\n    <span key={id}>\r\n      {name} {number}\r\n    </span>\r\n  );\r\n};\r\nexport default Individual;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"https://limitless-temple-04524.herokuapp.com/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject);\r\n};\r\n\r\nconst remove = (id, name) => {\r\n  if (window.confirm(`Do you really want to delete ${name}?`)) {\r\n    console.log(\"person\", id, \"is removed\");\r\n    return axios.delete(`${baseUrl}/${id}`);\r\n  }\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React, { useState } from \"react\";\r\nimport Individual from \"./Individual\";\r\nimport personsService from \"../services/persons\";\r\n\r\nconst Numbers = props => {\r\n  const [update, setUpdate] = useState(false);\r\n  let persons = props.persons;\r\n  const filterWord = props.filterWord;\r\n\r\n  if (update) {\r\n    console.log(\"happened because update is true\");\r\n    personsService.getAll().then(response => {\r\n      persons = response.data;\r\n    });\r\n\r\n    setUpdate(false);\r\n    console.log(\"persons\", persons);\r\n  }\r\n\r\n  const deletePerson = (id, name, i) => {\r\n    console.log(\"I deleted\", name, \"whos id is\", id);\r\n    console.log(\"persons type is\", typeof persons);\r\n    persons = persons.filter(a => a.id !== id);\r\n    console.log(\"persons\", persons);\r\n    personsService.remove(id, name);\r\n    setUpdate(true);\r\n  };\r\n\r\n  if (filterWord === \"\") {\r\n    return (\r\n      <>\r\n        <h2>Numbers</h2>\r\n        {persons.map((person, i) => (\r\n          <>\r\n            <Individual\r\n              key={i}\r\n              name={person.name}\r\n              number={person.number}\r\n              id={person.id}\r\n              result={i}\r\n              persons={props.persons}\r\n            />\r\n            <button\r\n              key={i}\r\n              onClick={() => deletePerson(person.id, person.name, i)}\r\n            >\r\n              delete\r\n            </button>\r\n            <br />\r\n          </>\r\n        ))}\r\n      </>\r\n    );\r\n  } else {\r\n    let newObj = [];\r\n    for (let i = 0; i < persons.length; i++) {\r\n      if (persons[i].name.includes(filterWord)) {\r\n        newObj = newObj.concat({\r\n          name: persons[i].name,\r\n          number: persons[i].number,\r\n\r\n          id: persons[i].id\r\n        });\r\n      }\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <h2>Numbers</h2>\r\n        {newObj.map((person, i) => (\r\n          <>\r\n            <Individual\r\n              key={i}\r\n              name={person.name}\r\n              number={person.number}\r\n              id={person.id}\r\n              result={i}\r\n              persons={props.persons}\r\n            />\r\n            <button\r\n              key={i}\r\n              onClick={() => deletePerson(person.id, person.name, i)}\r\n            >\r\n              delete\r\n            </button>\r\n            <br />\r\n          </>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n};\r\nexport default Numbers;\r\n","import React from \"react\";\r\nimport \"../src/style.css\";\r\n\r\nconst Notify = ({ message }) => {\r\n  console.log(message);\r\n\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  if (message.charAt(1) === \"l\") {\r\n    return <li className=\"deleted\">{message}</li>;\r\n  }\r\n  return <li className=\"personAdded\">{message}</li>;\r\n};\r\n\r\nexport default Notify;\r\n","import React, { useState, useEffect } from \"react\";\nimport Title from \"./Components/Title\";\nimport Numbers from \"./Components/Numbers\";\nimport personsService from \"./services/persons\";\nimport Notify from \"../src/Notify\";\nimport \"../src/style.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterWord, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  setTimeout(() => {\n    setMessage(null);\n  }, 5000);\n\n  useEffect(() => {\n    personsService.getAll().then(response => {\n      setPersons(response.data);\n    });\n  }, []);\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleFilter = event => {\n    setFilter(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleName = event => {\n    event.preventDefault();\n    if (persons.map(p => p.name).includes(newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, do you wish to update their number?`\n        )\n      ) {\n        const newP = { name: newName, number: newNumber };\n\n        const p = persons.find(x => x.name === newName);\n        if (p.id === undefined) {\n          p.id = persons.length;\n        }\n        personsService\n          .update(p.id, newP)\n          .catch(error => setMessage(`Already deleted ${newName}`));\n        persons[p.id - 1] = newP;\n        setMessage(`Added ${newName}`);\n        setPersons([...persons]);\n      }\n    } else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      };\n      personsService.create(newPerson);\n      setPersons(persons.concat(newPerson));\n      setMessage(`Added ${newName}`);\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n  return (\n    <div>\n      <Notify message={message} />\n      <Title text=\"Phonebook\" />\n      filter shown with <input value={filterWord} onChange={handleFilter} />\n      <h2>add a new</h2>\n      <form>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n          <br />\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\" onClick={handleName}>\n            add\n          </button>\n        </div>\n      </form>\n      <Numbers persons={persons} filterWord={filterWord} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}